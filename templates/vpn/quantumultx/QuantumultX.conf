# > å‚è€ƒ
# https://github.com/ddgksf2013/Profile/blob/master/QuantumultX.conf
# https://github.com/guardiora/QuantumultX/blob/master/quantumultX_profile.conf
# https://github.com/limbopro/Profiles4limbo

[general]
# > ç”¨äºèŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•
server_check_url=http://www.gstatic.com/generate_204
# > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout=3000
# > ç”¨äºCheckèŠ‚ç‚¹IPåœ°å€(ä»¥ä¸‹geo_location_checkerä»»é€‰ä¸€ä¸ªå³å¯)
geo_location_checker=disabled
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/Orz-3/Orz-3/master/QuantumultX/IP.js
# > åŠŸèƒ½å¼ºå¤§çš„è§£æå™¨ï¼Œç”¨äºå¼•ç”¨èµ„æºçš„è½¬æ¢
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# > ä¸‹åˆ—è·¯å¾„å°†ä¸ç»è¿‡QuanXçš„å¤„ç†
;excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
excluded_routes=10.0.0.0/8,17.0.0.0/8,24.105.30.129/32,100.64.0.0/10,172.16.0.0/12,182.162.132.1/32,185.60.112.157/32,185.60.112.158/32,192.168.0.0/16,239.255.255.250/32
# > DNS æ’é™¤åˆ—è¡¨
dns_exclusion_list=*.cmpassport.com,*.jegotrip.com.cn,*.icitymobile.mobi,id6.me,*.pingan.com.cn,*.cmbchina.com
# > UPD ç™½åå•
;udp_whitelist=1-442, 444-65535
# > udp æœåŠ¡ç­–ç•¥
fallback_udp_policy = direct

[dns]
# ç¦ç”¨ç³»ç»Ÿ DNS
# ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ä»å½“å‰ç½‘ç»œ(ç³»ç»Ÿ)ä¸­è·å–çš„ DNS æœåŠ¡å™¨(æ‚¨å¯ä»¥ä½¿ç”¨ã€Œno-systemã€ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œä½†è‡³å°‘è¦å¢åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ DNS æœåŠ¡å™¨ã€‚
;no-system

# ç¦ç”¨ IPv6
# å½“è®¾ç½®ã€Œno-ipv6ã€æ—¶ï¼ŒQuanumult X Tunnel çš„ DNS æ¨¡å—ä¼šç›´æ¥è®© AAAA æŸ¥è¯¢å¤±è´¥ã€‚
# > QuantumultXå¼€å¯IPV6æ–¹æ³•ï¼Œåˆ å»ä¸‹é¢çš„ã€Œno-ipv6ã€ï¼Œåœ¨ã€ŒVPNã€æ ä¸­ï¼Œå¼€å¯ã€Œå…¼å®¹æ€§å¢å¼ºã€
;no-ipv6

# è‡ªå®šä¹‰ DNS
# > DNSPod Public DNS
server=119.29.29.29
# > Alibaba Public DNS
server=223.5.5.5
server=/*.icloud.com/119.29.29.29
server=/*.icloud.com.cn/119.29.29.29
server=/*.tencent.com/119.29.29.29
server=/*.weixin.com/119.29.29.29

# åœ¨ç‰¹å®šçš„ç½‘ç»œç¯å¢ƒä¸‹å¿½ç•¥è‡ªå®šä¹‰ DNS å¯åœ¨åæ–¹åŠ ä¸Šã€Œexcluded_ssidsã€ç›¸å…³å­—æ®µã€‚
# æ³¨æ„ï¼šå¦‚é…ç½®äº† no-systemï¼Œåˆ™è¯·åŠ¡å¿…ç¡®ä¿åœ¨å¿½ç•¥äº†éƒ¨åˆ†è‡ªå®šä¹‰ DNS çš„é…ç½®ä¸‹è‡³å°‘æœ‰ä¸€ä¸ªå¯ç”¨çš„è‡ªå®šä¹‰ DNS é…ç½®ã€‚
# server=114.114.114.114, excluded_ssids=SSID1, SSID2

# > HTTP/3 çš„ DoH
;prefer-doh3

# DNS over HTTPS
# å½“ DoH æœåŠ¡å™¨è¢«è®¾ç½®æ—¶ï¼Œæ‰€æœ‰å…¶ä»–æ™®é€šçš„ï¼ˆæ²¡æœ‰ä¸ä¹‹ç›¸å…³çš„ç‰¹å®šåŸŸï¼‰æœåŠ¡å™¨å°†è¢«å¿½ç•¥ã€‚
# å½“è®¾ç½®äº†å¤šä¸ª DoH æœåŠ¡å™¨æ—¶ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªä¼šè¢«ä½¿ç”¨ã€‚
# å½“ä½¿ç”¨çš„ DoH æœåŠ¡å™¨ä¸æ˜¯åŸºäº HTTP/2 æ—¶ï¼ŒDoH å°†è¢«æš‚æ—¶ç¦ç”¨ï¼Œå¹¶ä½¿ç”¨å¸¸è§„æœåŠ¡å™¨ï¼Œç›´åˆ°ä¸‹æ¬¡å¯åŠ¨ VPN è¿æ¥ã€‚
# ä¸å»ºè®®åœ¨ä¸é˜²ç«å¢™ç›¸å…³çš„ç½‘ç»œç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¸ç¡®å®š DoH æœåŠ¡å™¨æ˜¯å¦æ€»èƒ½è¢«åˆ°è¾¾ã€‚
# å¦‚æœ DoH æœåŠ¡å™¨åœ¨æ‚¨çš„å›½å®¶æˆ–åœ°åŒºä¸æ˜¯æµè¡Œçš„ DNS æœåŠ¡å™¨ï¼Œåˆ™ä¸æ¨èä½¿ç”¨ï¼Œå®ƒå¯èƒ½ä¼šä¸¢å¤± ISP DNS æœåŠ¡å™¨è¿”å›çš„ CDN ä¼˜åŒ–ç»“æœã€‚
# å¦‚æœ DoH æœåŠ¡å™¨æ˜¯ä¸€ä¸ªåå¹¿å‘Šç›¸å…³çš„æœåŠ¡å™¨ï¼Œåˆ™ä¸æ¨èä½¿ç”¨ï¼ˆQuantumult X è¿‡æ»¤æ¨¡å—å¯¹äºè¢«æ‹’ç»çš„åŸŸå…·æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œå®ƒå¯ä»¥é¿å…å®¢æˆ·ç«¯æ— ä¼‘æ­¢çš„è¯·æ±‚ï¼‰ã€‚
# > DNSPod Public DNS DoH
;doh-server=https://doh.pub/dns-query
;doh-server=https://1.12.12.12/dns-query
;doh-server=https://120.53.53.53/dns-query

# > Alibaba Public DNS DoH
;doh-server=https://dns.alidns.com/dns-query
;doh-server=https://223.5.5.5/dns-query
;doh-server=https://223.6.6.6/dns-query

# æœ¬åœ° DNS æ˜ å°„
# Firebase Cloud Messaging
# address=/mtalk.google.com/108.177.125.188
# Google Dl
# server=/dl.google.com/119.29.29.29
# server=/dl.l.google.com/119.29.29.29

# > NETGEAR(ç½‘ä»¶)
server=/routerlogin.net/system
server=/routerlogin.com/system

# > TP-Link
server=/tplogin.cn/system
server=/tplinklogin.net/system
server=/melogin.cn/system
server=/falogin.cn/system

[policy]
static=ğŸ”° Proxy, proxy, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/AmyTelecom.png

static=AppleProxy, ğŸ”° Proxy, direct, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/App_Store.png

static=Apple, direct, ğŸ”° Proxy, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png

static=OpenAI, ğŸ”° Proxy, direct,, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/StricklandF/AppIcon/main/OpenAI.png

static=PayPal, ğŸ”° Proxy, direct, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/PayPal.png

static=Telegram, ğŸ”° Proxy, direct, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png

# static=Reddit, ğŸ”° Proxy, direct, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Reddit.png

static=TikTok, ğŸ”° Proxy, direct, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok.png

static=OneDrive, ğŸ”° Proxy, direct, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/OneDrive.png

static=Microsoft, ğŸ”° Proxy, direct, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png

static=China, direct, ğŸ”° Proxy, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png

static=Final, ğŸ”° Proxy, direct, server-tag-regex=(.*), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png

static=@é¦™æ¸¯, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png

static=@å°æ¹¾, server-tag-regex=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png

static=@æ—¥æœ¬, server-tag-regex=(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png

# static=@éŸ©å›½, server-tag-regex=(?=.*(éŸ©|éŸ“|æœ|KR|(?i)Korea))^((?!(æ¸¯|å°|æ—¥|æ–°|ç¾)).)*$, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/KR.png

static=@æ–°åŠ å¡, server-tag-regex=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|å…°|ç¾)).)*$, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png

static=@ç¾å›½, server-tag-regex=(?=.*(ç¾|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png

[server_remote]
{{ quantumultx.remote.server.url }}, tag={{ quantumultx.remote.server.tag }}, enabled=true, img-url={{ quantumultx.remote.server.img_url }}, update-interval={{ quantumultx.remote.server.interval }}

[server_local]

[filter_remote]
# > Advertising (å¹¿å‘Šæ‹¦æˆª)
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Advertising.list, tag=Advertising, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true

# > Hijacking (è¿è¥å•†åŠ«æŒæˆ–æ¶æ„ç½‘ç«™)
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Malicious.list, tag=Hijacking, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true

# > Tracking (éšç§ä¿æŠ¤)
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Tracking.list, tag=Tracking, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true

# > AppleProxy
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/AppleProxy/AppleProxy.list, tag=AppleProxy, force-policy=AppleProxy, update-interval=172800, opt-parser=true, enabled=true

# > Apple
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Apple/Apple.list, tag=Apple, force-policy=Apple, update-interval=172800, opt-parser=true, enabled=true

# > OpenAI
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/OpenAI/OpenAI.list, tag=OpenAI, force-policy=OpenAI, update-interval=172800, opt-parser=false, enabled=true

# > PayPal
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/PayPal/PayPal.list, tag=PayPal, force-policy=PayPal, update-interval=172800, opt-parser=false, enabled=true

# > Telegram
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list, tag=Telegram, force-policy=Telegram, update-interval=172800, opt-parser=false, enabled=true

# > Reddit
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Reddit/Reddit.list, tag=Reddit, force-policy=Reddit, update-interval=172800, opt-parser=false, enabled=true

# > TikTok
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TikTok/TikTok.list, tag=TikTok, force-policy=TikTok, update-interval=172800, opt-parser=false, enabled=true

# > OneDrive
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/OneDrive/OneDrive.list, tag=OneDrive, force-policy=OneDrive, update-interval=172800, opt-parser=false, enabled=true

# > Microsoft
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Microsoft/Microsoft.list, tag=Microsoft, force-policy=Microsoft, update-interval=172800, opt-parser=false, enabled=true

# > ChinaASN
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list, tag=ChinaASN, force-policy=China, update-interval=172800, opt-parser=true, enabled=true

# > ChinaX
https://raw.githubusercontent.com/druagoon/h451/master/QuantumultX/rules/x/China/China.list, tag=ChinaX, force-policy=China, update-interval=172800, opt-parser=false, enabled=true

# > China
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/China/China.list, tag=China, force-policy=China, update-interval=172800, opt-parser=false, enabled=true

[filter_local]
# > è´´å§å±è”½åŸŸådnsæŸ¥è¯¢
ip-cidr,180.76.76.200/32,reject

# > Local
host-suffix,local,direct
ip-cidr,192.168.0.0/16,direct
ip-cidr,10.0.0.0/8,direct
ip-cidr,172.16.0.0/12,direct
ip-cidr,127.0.0.0/8,direct
ip-cidr,100.64.0.0/10,direct
ip-cidr,224.0.0.0/4,direct
ip6-cidr,fe80::/10,direct

# > General
geoip,cn,China
final,Final

[rewrite_remote]
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/YoutubeAds.conf, tag=æ²¹ç®¡å»å¹¿å‘Š@Maasea, update-interval=86400, opt-parser=false, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Weibo.conf, tag=å¾®åšå»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=false
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Module/Block/Advertising.sgmodule, tag=ç¥æœºå»å¹¿å‘Š, update-interval=86400, opt-parser=true, enabled=false
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Redirect/Redirect.conf, tag=é€šç”¨é‡å†™, update-interval=86400, opt-parser=false, enabled=true

[rewrite_local]

[mitm]
